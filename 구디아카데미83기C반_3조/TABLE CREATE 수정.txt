<--------수정--------> 
TABLE CREATE 모음


===============친구=================

CREATE TABLE FRIEND (
	FRIEND_NUM NUMBER NOT NULL,
	USER_ID VARCHAR2(100) NOT NULL,
	FRIEND_ID VARCHAR2(100) NOT NULL,
	CONSTRAINTS FN_PK PRIMARY KEY (FRIEND_NUM),
	CONSTRAINTS USER_ID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE CASCADE
);




===============알림=================

CREATE TABLE ALARM (
	ALARM_NUM NUMBER NOT NULL,
	USER_ID VARCHAR2(100) NOT NULL,
	ITEM_NUM NUMBER 
	ALARM_SENDER VARCHAR2(100) NOT NULL,
	ALARM_RECEIVED_DATE DATE DEFAULT SYSDATE NOT NULL,
	ALARM_CONTENTS CLOB NULL,
	CONSTRAINTS ALARM_PK PRIMARY KEY (ALARM_NUM),
	CONSTRAINTS USER_ID_TO_ALARM_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE CASCADE AND ON DROP CASCADE,
	CONSTRAINTS ITEM_NUM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE CASCADE
	
);



===============전적=================

CREATE TABLE RECORD (
	PET_RECORD NUMBER NOT NULL,
	PET_NUM NUMBER NOT NULL,
	RECORD_OUTCOME NUMBER NOT NULL,
	RECORD_ENEMY_NUM NUMBER NOT NULL,
	RECORD_DATE DATE DEFAULT SYSDATE NOT NULL,
	
	CONSTRAINTS RECORD_PK PRIMARY KEY (PET_RECORD),
	CONSTRAINTS PET_NUM_TO_RECORD_FK FOREIGN KEY (PET_NUM) REFERENCES MY_PET (PET_NUM) ON DELETE CASCADE
);





===============아이템=================
CREATE TABLE ITEM (
	ITEM_NUM NUMBER,
	CATEGORY_NUM NUMBER NOT NULL,
	ITEM_NAME VARCHAR2 (200) NOT NULL,
	ITEM_DESCRIPTION VARCHAR2 (200) NOT NULL,
	ITEM_HP NUMBER NOT NULL,
	ITEM_ATK NUMBER NOT NULL,
	ITEM_DOD NUMBER NOT NULL,
	ITEM_PRICE NUMBER NOT NULL,
	ITEM_DEL NUMBER DEFAULT 0 NOT NULL,
	CONSTRAINTS IT_NUM_PK PRIMARY KEY (ITEM_NUM),
	CONSTRAINTS IT_HP_CHECK CHECK (ITEM_HP>0),
	CONSTRAINTS IT_ATK_CHECK CHECK (ITEM_ATK>0),
	CONSTRAINTS IT_DOD_CHECK CHECK (ITEM_DOD>0),
	CONSTRAINTS IT_PRICE_CHECK CHECK (ITEM_PRICE>0)
)


===============캐릭터 장착 장비=================

CREATE TABLE PET_EQUIP (
    EQUIP_NUM NUMBER PRIMARY KEY,
    PET_NUM NUMBER,
    ITEM_NUM NUMBER,
    CONSTRAINTS EQUIP_KF FOREIGN KEY (PET_NUM) REFERENCES MY_PET (PET_NUM) ON DELETE CASCADE,
    CONSTRAINTS ITEM_CHNUM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE CASCADE 
);


===============장바구니=================

CREATE TABLE WISHLIST (
    WISHLIST_NUM NUMBER PRIMARY KEY,
    USER_ID VARCHAR2 (100),
    ITEM_NUM NUMBER,
    CONSTRAINTS WISH_UID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE CASCADE,
    CONSTRAINTS ITEM_CHNUM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE CASCADE 
);




===============유저게시판=================

CREATE TABLE USERS (
	USER_ID VARCHAR2(100),
	USER_PW VARCHAR2(100) NOT NULL,
	USER_NAME VARCHAR2(100) NOT NULL,
	USER_NICKNAME VARCHAR2(100) NOT NULL,
	USER_PHONE VARCHAR2(100) NOT NULL,
	USER_EMAIL VARCHAR2(100) NOT NULL,
	USER_AUTH NUMBER(1) DEFAULT 1 NOT NULL, --<< 디폴트 값은 1(일반 유저), 0은 관리자 권한 >>--
	USER_RESIGN NUMBER(1) DEFAULT 1 NOT NULL, --<< 디폴트 값은 1(정상), 0은 탈퇴 유저 >>--
	CONSTRAINTS USER_ID_PK PRIMARY KEY (USER_ID),
	CONSTRAINTS USER_AUTH_CHECK CHECK (USER_AUTH = 0 OR USER_AUTH = 1),
	CONSTRAINTS USER_RESIGN_CHECK CHECK (USER_RESIGN = 0 OR USER_RESIGN = 1)
);



===============유저게시판댓글=================

CREATE TABLE USERBOARD_COMMENT (
    USERBOARD_COMMENT_NUM NUMBER PRIMARY KEY,
    USERBOARD_NUM NUMBER,
    USER_ID VARCHAR2(100),
    USERBOARD_CONTENTS CLOB NULL,
    USERBOARD_CREATE_DATE DATE DEFAULT SYSDATE,
    CONSTRAINTS UBCM_UBN_FK FOREIGN KEY (USERBOARD_NUM) REFERENCES USERBOARD (USERBOARD_NUM),
    CONSTRAINTS UBCM_UID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE SET NULL
);




===============유저게시판파일=================

CREATE TABLE USERBOARD_FILE (
    USERBOARD_FILE_NUM NUMBER PRIMARY KEY,
    USERBOARD_NUM NUMBER,
    USERBOARD_FILE_NAME VARCHAR2(100) NOT NULL,
    USERBOARD_ORIFILE_NAME VARCHAR2(100) NOT NULL,
    CONSTRAINTS UBF_UBN_FK FOREIGN KEY (USERBOARD_NUM) REFERENCES USERBOARD (USERBOARD_NUM)
);




===============공지사항=================

CREATE TABLE NOTICE (
    NOTICE_NUM NUMBER PRIMARY KEY,
    USER_ID VARCHAR2 (100),
    NOTICE_TITLE VARCHAR2 (100) NOT NULL,
    NOTICE_CREATE_DATE DATE DEFAULT SYSDATE NOT NULL,
    NOTICE_HIT NUMBER DEFAULT 0 NOT NULL,
    NOTICE_CONTENTS CLOB NULL,
    CONSTRAINTS NT_UID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE SET NULL
);




===============질문=================

CREATE TABLE QUESTION (
    QUESTION_NUM NUMBER PRIMARY KEY,
    USER_ID VARCHAR2 (100),
    QUESTION_TITLE VARCHAR2 (100) NOT NULL,
    QUESTION_CREATE_DATE DATE DEFAULT SYSDATE NOT NULL,
    QUESTION_HIT NUMBER DEFAULT 0 NOT NULL,
    QUESTION_CONTENTS CLOB NULL,
    QUESTION_REF NUMBER NOT NULL,
    QUESTION_STEP NUMBER NOT NULL,
    QUESTION_DEPTH NUMBER NOT NULL,
    QUESTION_DEL NUMBER DEFAULT 0 NOT NULL,
    CONSTRAINTS QUE_UID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE SET NULL
);



===============회원=================

CREATE TABLE USERS (
    USER_ID VARCHAR2(100),
    USER_PW VARCHAR2(100) NOT NULL,
    USER_NAME VARCHAR2(100) NOT NULL,
    USER_NICKNAME VARCHAR2(100) NOT NULL,
    USER_PHONE VARCHAR2(100) NOT NULL,
    USER_EMAIL VARCHAR2(100) NOT NULL,
    USER_AUTH NUMBER(1) DEFAULT 1 NOT NULL, --<< 디폴트 값은 1(일반 유저), 0은 관리자 권한 >>--
    USER_RESIGN NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINTS USER_ID_PK PRIMARY KEY (USER_ID),
    CONSTRAINTS USER_AUTH_CHECK CHECK (USER_AUTH = 0 OR USER_AUTH = 1),
    CONSTRAINTS USER_RESIGN_CHECK CHECK (USER_RESIGN = 0 OR USER_RESIGN = 1)
);



===============마이캐릭터=================

CREATE TABLE MY_PET (
	PET_NUM NUMBER,
	USER_ID VARCHAR2(100),
	ITEM_NUM NUMBER,
	EQUIP_NUM NUMBER,
	PET_NAME VARCHAR2(100) NOT NULL,
	PET_SPC VARCHAR2(100) NOT NULL,
	PET_EXP NUMBER NOT NULL,
	PET_LEVEL NUMBER NOT NULL,
	PET_HP NUMBER NOT NULL,
	PET_ATK NUMBER NOT NULL,
	PET_DOD NUMBER NOT NULL,
	PET_POP NUMBER NOT NULL,
	PET_HUNGRY NUMBER NOT NULL,
	PET_WASHROOM NUMBER,
	ADD_HP NUMBER,
	ADD_ATK NUMBER,
	ADD_DOD NUMBER,
	PET_SELECTED NUMBER(1) DEFAULT 0 NOT NULL,
	CONSTRAINTS PET_NUM_PK PRIMARY KEY (PET_NUM),
	CONSTRAINTS PET_ID_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE CASCADE,
	CONSTRAINTS PET_ITEM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE CASCADE,
	CONSTRAINTS PET_EQUIP_FK FOREIGN KEY (EQUIP_NUM) REFERENCES INVENTORY (INVENTORY_NUM) ON DELETE CASCADE,
	CONSTRAINTS PET_SELECTED_CHECK CHECK (PET_SELECTED = 0 OR PET_SELECTED = 1)
);

CREATE SEQUENCE PET_SEQ;

===============소지품=================

CREATE TABLE INVENTORY (
	INVENTORY_NUM NUMBER,
	ITEM_NUM NUMBER,
	USER_ID VARCHAR2(100),
	CONSTRAINTS INVEN_NUM_PK PRIMARY KEY (INVENTORY_NUM),
	CONSTRAINTS INVEN_ITEM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE CASCADE,
	CONSTRAINTS INVEN_USER_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE CASCADE
);
CREATE SEQUENCE INVEN_SEQ;

===============거래내역=================

CREATE TABLE TRANSACTION (
	TRANSACTION_NUM NUMBER,
	USER_ID VARCHAR2(100),
	ITEM_NUM NUMBER,
	TRANSACTION_DATE DATE DEFAULT SYSDATE NOT NULL,
	TRANSACTION_AMOUNT NUMBER NOT NULL,
	TRANSACTION_TYPE VARCHAR2(100) NOT NULL,
	CONSTRAINTS TRAN_NUM_PK PRIMARY KEY (TRANSACTION_NUM),
	CONSTRAINTS TRAN_USER_FK FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID) ON DELETE SET NULL,
	CONSTRAINTS TRAN_ITEM_FK FOREIGN KEY (ITEM_NUM) REFERENCES ITEM (ITEM_NUM) ON DELETE SET NULL,
	CONSTRAINTS TRAN_TYPE_CHECK CHECK (TRANSACTION_TYPE = '구입' OR TRANSACTION_TYPE = '환불')
);


==============카테고리==================
CREATE TABLE CATEGORY (
	CATEGORY_NUM NUMBER,
	CATEGORY_NAME VARCHAR2 (100) NOT NULL,
	CONSTRAINTS CA_NUM_PK PRIMARY KEY (CATEGORY_NUM),
)